"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[275],{275:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(439),a=n(689),c=n(87),i=n(243),u=n(791),s=n(416),o=n(184);function l(e){return(0,o.jsx)(s._Q,{children:(0,o.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.currentTarget,r=n.elements.search.value;e.onSubmit(r),n.reset()},children:[(0,o.jsx)("input",{name:"search",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,o.jsx)("button",{type:"submit",children:(0,o.jsx)("span",{children:"Search"})})]})})}function h(){var e=(0,a.TH)(),t=(0,u.useState)(null),n=(0,r.Z)(t,2),h=n[0],f=n[1],d=(0,c.lr)(),m=(0,r.Z)(d,2),p=m[0],j=m[1],x=p.get("search");return(0,u.useEffect)((function(){if(null!==x){var e={method:"GET",url:"https://api.themoviedb.org/3/search/movie",params:{query:"".concat(x),include_adult:"false",language:"en-US",page:"1"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjM2YWJkZmM3NDE4MTQ0MTZlZDNhOWQ3OGZkMzNiNiIsInN1YiI6IjY0MzU1ZDlmZWM4YTQzMDIxOTI2NzJhYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JLPbYzf2ZSUL6iP2RY-vf-bExRMCVBdbt1ajwYeenmE"}};i.Z.request(e).then((function(e){return e.data})).then((function(e){f(e.results)})).catch((function(e){console.error(e)}))}}),[x]),(0,o.jsxs)(s.K5,{children:[(0,o.jsx)(l,{onSubmit:function(e){j(""!==e?{search:e}:{})}}),(0,o.jsx)("ul",{children:x&&h&&h.map((function(t){return(0,o.jsx)("li",{children:(0,o.jsx)(c.rU,{to:"".concat(t.id),state:{from:e},children:t.title})},t.id)}))}),(0,o.jsx)(u.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsx)(a.j3,{})})]})}}}]);
//# sourceMappingURL=275.4397bd5a.chunk.js.map