"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[275],{749:function(e,a,t){t.d(a,{Z:function(){return r}});var n=t(48),s=t.n(n),i=t(184);function r(e){var a=e.totalPages,t=e.changePage;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s(),{nextLabel:"next >",onPageChange:function(e){t(e.selected)},pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:a,previousLabel:"< previous",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})})}},275:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var n=t(439),s=t(689),i=t(87),r=t(243),c=t(791),l=t(416),o=t(184);function u(e){return(0,o.jsx)(l._Q,{children:(0,o.jsxs)("form",{onSubmit:function(a){a.preventDefault();var t=a.currentTarget,n=t.elements.search.value;e.onSubmit(n),t.reset()},children:[(0,o.jsx)("input",{name:"search",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,o.jsx)("button",{type:"submit",children:(0,o.jsx)("span",{children:"Search"})})]})})}var h=t(749);function p(){var e=(0,s.TH)(),a=(0,c.useState)(null),t=(0,n.Z)(a,2),p=t[0],m=t[1],d=(0,i.lr)(),g=(0,n.Z)(d,2),f=g[0],x=g[1],j=(0,c.useState)(null),v=(0,n.Z)(j,2),b=v[0],N=v[1],k=(0,c.useState)(1),C=(0,n.Z)(k,2),Z=C[0],I=C[1],L=f.get("search");return(0,c.useEffect)((function(){if(null!==L){var e={method:"GET",url:"https://api.themoviedb.org/3/search/movie",params:{query:"".concat(L),include_adult:"false",language:"en-US",page:"".concat(Z)},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjM2YWJkZmM3NDE4MTQ0MTZlZDNhOWQ3OGZkMzNiNiIsInN1YiI6IjY0MzU1ZDlmZWM4YTQzMDIxOTI2NzJhYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JLPbYzf2ZSUL6iP2RY-vf-bExRMCVBdbt1ajwYeenmE"}};r.Z.request(e).then((function(e){return e.data})).then((function(e){N(e.total_pages),m(e.results),window.scrollTo({top:0,behavior:"instant"})})).catch((function(e){console.error(e)}))}}),[L,Z]),(0,o.jsxs)(l.K5,{children:[(0,o.jsx)(u,{onSubmit:function(e){x(""!==e?{search:e}:{})}}),(0,o.jsxs)("div",{className:"searchBodyContainer",children:[(0,o.jsx)("ul",{className:"searchList",children:L&&p&&p.map((function(a){return(0,o.jsx)("li",{className:"searchItem",children:(0,o.jsxs)(i.rU,{to:"".concat(a.id),state:{from:e},children:[(0,o.jsx)("img",{src:a.poster_path?"https://image.tmdb.org/t/p/w500".concat(a.poster_path):"https://via.placeholder.com/400x600/000000/FFFFFF?text=Not+Found",alt:"movie"}),a.title||a.name]})},a.id)}))}),b&&(0,o.jsx)(h.Z,{totalPages:b,changePage:function(e){I(e+1)}})]}),(0,o.jsx)(c.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsx)(s.j3,{})})]})}}}]);
//# sourceMappingURL=275.bc3b565f.chunk.js.map